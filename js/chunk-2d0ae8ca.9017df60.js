(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ae8ca"],{"0b13":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bOrders"},[i("div",{staticClass:"bOrders__container container pt-4"},[t._m(0),i("div",{staticClass:"bOrders__body pt-3 d-flex flex-column align-items-center"},[i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"},attrs:{scope:"col"}},[i("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return e.preventDefault(),t.send_orders(e)}}},[t._v(" 出貨 ")])]),i("th",{staticStyle:{"vertical-align":"middle"},attrs:{scope:"col"}},[t._v("希望收件日期")]),i("th",{staticStyle:{"vertical-align":"middle"},attrs:{scope:"col"}},[t._v("訂貨人")]),i("th",{staticStyle:{"vertical-align":"middle"},attrs:{scope:"col"}},[t._v("收貨人")]),i("th",{staticStyle:{"vertical-align":"middle"},attrs:{scope:"col"}},[t._v("總金額")]),i("th",{staticStyle:{"vertical-align":"middle"},attrs:{scope:"col"}},[t._v("已付款")]),i("th",{staticStyle:{"vertical-align":"middle"},attrs:{scope:"col"}},[t._v("功能")])])]),t._l(t.orders,(function(e,n){return i("tbody",{key:n},[i("tr",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse"+n,expression:"`collapse${index}`"}],class:[{"table-info":e.payment.ifPaid},{"table-warning":!e.payment.ifPaid}]},[i("td",{staticClass:"text-center",staticStyle:{"vertical-align":"middle"}},[e.sending.ifSent?t._e():i("span",[e.payment.ifPaid?i("span",[i("input",{attrs:{type:"checkbox"},on:{change:function(i){return t.push_sendingList(i.target.checked,e.id)}}})]):t._e()]),e.sending.ifSent?i("span",{staticClass:"d-flex flex-column"},[i("span",[t._v("已出貨")]),i("span",[t._v(t._s(t.convert_time(e.sending.info.sentTime)))])]):t._e()]),i("td",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.recipient.esdDate))]),i("td",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.buyer.name))]),i("td",{staticStyle:{"vertical-align":"middle"}},[e.recipient.ifGetFromStore?i("span",[t._v(" 門市自取 ")]):t._e(),e.recipient.ifGetFromStore?t._e():i("span",[t._v(" "+t._s(e.recipient.info.name)+" ")])]),i("td",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(e.sum))]),i("td",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.convert_text(e.payment.ifPaid)))]),i("td",{staticStyle:{"vertical-align":"middle"}},[e.sending.ifSent?t._e():i("div",[e.payment.ifPaid?i("button",{staticClass:"btn btn-sm btn-danger m-1"},[t._v(" 取消並退款 ")]):t._e()]),e.payment.ifPaid?t._e():i("button",{staticClass:"btn btn-sm btn-danger m-1",on:{click:function(i){return i.preventDefault(),t.confirm_delete_admin(e.id)}}},[t._v(" 取消訂單 ")])])]),i("tr",[i("td",{staticClass:"py-0 border-0",attrs:{colspan:"100%"}},[i("b-collapse",{attrs:{id:"collapse"+n}},[i("b-tabs",{staticClass:"py-3",attrs:{"content-class":"py-3"}},[i("b-tab",{attrs:{title:"訂單資料"}},[i("p",{staticClass:"mb-1"},[t._v(" 訂單建立日期: "+t._s(t.convert_time(e.createTime))+" ")]),i("p",{staticClass:"mb-1"},[t._v(" 訂購人: "+t._s(e.buyer.name)+" ")]),i("p",{staticClass:"mb-1"},[t._v(" 訂購人電話: "+t._s(e.buyer.tel)+" ")]),i("p",[t._v(" 訂購人Email: "+t._s(e.buyer.email)+" ")])]),i("b-tab",{attrs:{title:"購買產品",active:""}},[i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("產品ID")]),i("th",{attrs:{scope:"col"}},[t._v("產品名稱")]),i("th",{attrs:{scope:"col"}},[t._v("產品數量")]),i("th",{attrs:{scope:"col"}},[t._v("產品單價")])])]),i("tbody",t._l(e.cart.products,(function(e,n){return i("tr",{key:n},[i("td",{staticStyle:{"vertical-align":"middle"}},[t._v(" "+t._s(e.id)+" ")]),i("td",{staticStyle:{"vertical-align":"middle"}},[i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticClass:"boxSize-100-100 mr-3"},[i("img",{staticClass:"w-100 h-100",attrs:{src:e.img,alt:""}})]),i("p",[t._v(t._s(e.title))])])]),i("td",{staticStyle:{"vertical-align":"middle"}},[t._v(" "+t._s(e.quantity)+" ")]),i("td",{staticStyle:{"vertical-align":"middle"}},[t._v(" NT$ "+t._s(e.price)+" ")])])})),0)])]),i("b-tab",{attrs:{title:"優惠券"}},[""===e.coupon.id?i("p",[t._v(" 無 ")]):t._e(),""!==e.coupon.id?i("table",{staticClass:"table"},[i("thead",[i("tr",[i("th",{attrs:{scope:"col"}},[t._v("優惠券ID")]),i("th",{attrs:{scope:"col"}},[t._v("優惠券描述")]),i("th",{attrs:{scope:"col"}},[t._v("折價")])])]),i("tbody",[i("tr",[i("td",[t._v(t._s(e.coupon.id))]),i("td",[t._v(t._s(e.coupon.description))]),i("td",[t._v(t._s(e.coupon.discount))])])])]):t._e()]),i("b-tab",{attrs:{title:"寄送資訊"}},[e.recipient.ifGetFromStore?i("div",[i("ul",[i("li",[t._v("到門市自取")]),i("li",[t._v("預定取貨日期: "+t._s(e.recipient.esdDate))]),i("li",[t._v("預定取貨時間: "+t._s(t.convert_text(e.recipient.esdTime)))])])]):t._e(),e.recipient.ifGetFromStore?t._e():i("div",[i("p",[t._v("收件人資訊")]),i("ul",[i("li",[t._v("收件人姓名: "+t._s(e.recipient.info.name))]),i("li",[t._v("收件人電話: "+t._s(e.recipient.info.tel))]),i("li",[t._v("收件人地址: "+t._s(e.recipient.info.address))]),i("li",[t._v(" 是否有公司 / 大樓代收: "+t._s(t.convert_text(e.recipient.info.ifRepresentative))+" ")]),e.recipient.info.ifRepresentative?i("li",[t._v("收花人公司 / 大樓名稱: "+t._s(e.recipient.info.representativeTitle))]):t._e(),i("li",[t._v("匿名配送: "+t._s(t.convert_text(e.recipient.info.ifAnonymous)))])])])]),i("b-tab",{attrs:{title:"付款資訊"}},[i("ul",[i("li",[t._v(" 已付款: "+t._s(t.convert_text(e.payment.ifPaid))+" ")]),e.payment.ifPaid?i("li",[t._v(" 付款時間: "+t._s(e.payment.info.time)+" ")]):t._e(),e.payment.ifPaid?i("li",[t._v(" 付款方式: "+t._s(t.convert_text(e.payment.info.type))+" ")]):t._e(),e.payment.ifPaid?i("li",[t._v(" 信用卡號碼: "+t._s(e.payment.info.creditNumber)+" ")]):t._e()])]),i("b-tab",{attrs:{title:"發票資訊"}},[i("ul",[i("li",[t._v("發票類型: "+t._s(t.convert_text(e.invoice.type)))]),"person"===e.invoice.type?i("li",[t._v(" 發票載具: "+t._s(t.convert_text(e.invoice.personCarrier)))]):t._e(),"person"===e.invoice.type?i("li",["no"===e.invoice.personCarrier?i("span",[t._v(" 中獎發票寄送地址: "+t._s(e.invoice.personCarrierAddress)+" ")]):t._e()]):t._e(),"person"===e.invoice.type?i("li",["mobile"===e.invoice.personCarrier?i("span",[t._v(" 手機條碼載具: "+t._s(e.invoice.personCarrierMobile)+" ")]):t._e()]):t._e(),"person"===e.invoice.type?i("li",["nature"===e.invoice.personCarrier?i("span",[t._v(" 自然人憑證載具: "+t._s(e.invoice.personCarrierNature)+" ")]):t._e()]):t._e(),"donation"===e.invoice.type?i("li",[t._v("捐贈單位: "+t._s(t.convert_text(e.invoice.donationTarget)))]):t._e(),"company"===e.invoice.type?i("li",[t._v(" 公司抬頭: "+t._s(e.invoice.companyTitle))]):t._e(),"company"===e.invoice.type?i("li",[t._v(" 公司統一編號: "+t._s(e.invoice.companyId))]):t._e()])])],1)],1)],1)])])}))],2)])]),i("b-modal",{attrs:{id:"confirm_delete_order",title:"確認","ok-title":"是","cancel-title":"否"},on:{ok:function(e){return t.delete_order(t.deletingOrderId)}}},[i("p",{staticClass:"my-3"},[t._v("確定要刪除嗎?")])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bOrders__header row"},[i("div",{staticClass:"bOrders__header__h2 h2 col"},[t._v("訂單管理")])])}],s=(i("99af"),i("c740"),i("a434"),{data:function(){return{orders:[],sendingList:[],deletingOrderId:""}},methods:{initialize_orders:function(){var t;this.$bus.$on("son_get_data",(function(e){t=JSON.parse(JSON.stringify(e.orders))})),this.$bus.$emit("son_call_data");var e=function(t){var e=new Date(t),i=e.getTime();return i};t.sort((function(t,i){var n=e(t.recipient.esdDate),a=e(i.recipient.esdDate);return a-n})),this.orders=t},convert_time:function(t){var e=new Date(t),i=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),s=e.getHours(),r=e.getMinutes(),c=e.getSeconds(),o=function(t){return(t>9?"":"0")+t},l="".concat(i,"-").concat(o(n),"-").concat(o(a)," ").concat(o(s),":").concat(o(r),":").concat(o(c));return l},convert_text:function(t){var e;switch(t){case!0:e="是";break;case!1:e="否";break;case"":e="不指定";break;case"morning":e="上午( 08:00 ~ 13:00 )";break;case"afternoon":e="下午( 14:00 ~ 18:00 )";break;case"person":e="個人電子發票";break;case"donation":e="捐贈電子發票";break;case"company":e="公司報帳電子發票";break;case"no":e="不使用載具";break;case"mobile":e="手機條碼載具";break;case"nature":e="自然人憑證載具";break;case"donationCompany1":e="捐贈單位1";break;case"donationCompany2":e="捐贈單位2";break;case"donationCompany3":e="捐贈單位3";break;case"creditCard":e="信用卡";break;default:break}return e},push_sendingList:function(t,e){if(t)this.sendingList.push(e);else{var i=this.sendingList.findIndex((function(t){return t===e}));this.sendingList.splice(i,1)}},send_orders:function(){this.$bus.$emit("send_order",this.sendingList),this.initialize_orders()},confirm_delete_admin:function(t){this.deletingOrderId=t,this.$bvModal.show("confirm_delete_order")},delete_order:function(t){this.$bus.$emit("delete_order",t),this.initialize_orders()}},created:function(){this.initialize_orders()}}),r=s,c=i("2877"),o=Object(c["a"])(r,n,a,!1,null,null,null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d0ae8ca.9017df60.js.map