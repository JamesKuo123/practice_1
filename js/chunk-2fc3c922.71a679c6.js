(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fc3c922"],{2419:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyQjE2NkIzMDcxQTgxMUU2OTUxMUIyODIzOUYwQTdCMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyQjE2NkIzMTcxQTgxMUU2OTUxMUIyODIzOUYwQTdCMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjJCMTY2QjJFNzFBODExRTY5NTExQjI4MjM5RjBBN0IxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJCMTY2QjJGNzFBODExRTY5NTExQjI4MjM5RjBBN0IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+M0JF6QAAAglJREFUeNrsljtLA0EQx+/OBKOksbDRJhFtIhaRpLGJQsQnqGm0ywewFCwsLBTs7C0tTSEoGBAsBBERA4JgMKKIhUrQxiAoJvHxH5iFZb0zl7vEyoEfm8zNzuzO7EuPRCKaDekAq2CS/2+BOXCTyWR+7eix4TwAzoAfHLCOAsVBD7h1G2CdnXeBa9Z1giv+1m83wBh3JN0nKIFmEAN5Hu0Q2z6wLhaNRufRvgIvMECZBoLUpclQRw1a0O6APq22cgTGabSb7HwR7PEMDMmQZqMzsnwxqi3NYBAskW9yNgBSYNnJMC1W0TFS1412WkTPa7WXvKjBHdp2MAxOwYdJOuwKpawB9IJdcE8pSoBDVpR4NbgR4YPaBAU4AWFwziNI2dwfZkIFnuLfYdQnKxxl2Tmtohk3RUZxacmPknNNWmJ+zru3BsUlHzoC+TVlDWsuimvpw9DqLEaFqSZBUNKNMEKCSEUSeJ0ECPFpmZR0G4yQJNuEnBzXPpOcvlnk2+ckQFnaOEKKJptKtq0qRXUv8n+AvwngqbDRSBolXZNi06jYWgYwTJbbM7cFSfei9C8otrIPQw5QNBltDtCz71LSxZUAa2AfR3POZFZFcWWKD/RCa+Pr88nJfYAzqZWuSXo3QR9QazDL76NHsA3e7dxscCrSQiOfkHz9KHKar7sVybBauQAL4lVH8i3AAIHRfhyq8u1aAAAAAElFTkSuQmCC"},"2cf6":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"checkout"},[r("h1",[e._v("CHECKOUT")]),r("div",{staticClass:"checkout__container"},[r("transition",{attrs:{name:"fade"}},[""===e.user.id?r("div",{staticClass:"checkout__block",attrs:{id:"checkout__login"}},[r("p",{staticClass:"checkout__title checkout__title--collapse",class:e.loginCollapse?null:"collapsed",on:{click:function(t){t.preventDefault(),e.loginCollapse=!e.loginCollapse}}},[r("span",[e._v(" 登入 / 註冊會員 ")])]),r("b-collapse",{model:{value:e.loginCollapse,callback:function(t){e.loginCollapse=t},expression:"loginCollapse"}},[r("div",{staticClass:"checkout__body d-flex justify-content-center align-items-center"},[r("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.go_page("/front/login")}}},[e._v("會員登入 / 註冊")])])])],1):e._e()]),r("transition",{attrs:{name:"fade"}},[e.cartContentConfirmed?e._e():r("div",{staticClass:"checkout__block"},[r("p",{staticClass:"checkout__title checkout__title--collapse",class:e.cartConfirmingCollapse?null:"collapsed",on:{click:function(t){t.preventDefault(),e.cartConfirmingCollapse=!e.cartConfirmingCollapse}}},[r("span",[e._v(" 確認購物車內容 ")])]),r("b-collapse",{model:{value:e.cartConfirmingCollapse,callback:function(t){e.cartConfirmingCollapse=t},expression:"cartConfirmingCollapse"}},[r("div",{staticClass:"checkout__body"},[r("cart-content",{attrs:{editable:!0,connectObj:e.cart}})],1),r("div",{staticClass:"checkout__func"},[r("a",{staticClass:"myBtn myBtn--primary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.get_newOrder_cart(t)}}},[e._v("下一步")])])])],1)]),r("transition",{attrs:{name:"fade"}},[e.cartContentConfirmed?r("div",{staticClass:"checkout__block"},[r("p",{staticClass:"checkout__title checkout__title--collapse",class:e.cartConfirmedCollapse?null:"collapsed",on:{click:function(t){t.preventDefault(),e.cartConfirmedCollapse=!e.cartConfirmedCollapse}}},[r("span",[e._v(" 確認訂購產品 ")])]),r("b-collapse",{model:{value:e.cartConfirmedCollapse,callback:function(t){e.cartConfirmedCollapse=t},expression:"cartConfirmedCollapse"}},[r("div",{staticClass:"checkout__body"},[r("cart-content",{attrs:{editable:!1,connectObj:e.cart}})],1),r("div",{staticClass:"checkout__func"},[r("a",{staticClass:"myBtn myBtn--primary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.reset_newOrder_cart(t)}}},[e._v("返回編輯購物車")])])])],1):e._e()]),r("transition",{attrs:{name:"fade"}},[e.cartContentConfirmed?r("div",{staticClass:"checkout__block"},[r("p",{staticClass:"checkout__title checkout__title--collapse",class:e.sumCollapse?null:"collapsed",on:{click:function(t){t.preventDefault(),e.sumCollapse=!e.sumCollapse}}},[r("span",[e._v(" 金額總計 ")])]),r("b-collapse",{model:{value:e.sumCollapse,callback:function(t){e.sumCollapse=t},expression:"sumCollapse"}},[r("div",{staticClass:"checkout__body"},[r("div",{staticClass:"checkout__coupon"},[r("div",{staticClass:"checkout__coupon__input myForm"},[r("span",[e._v("使用優惠券: ")]),r("input",{staticClass:"form-control",attrs:{id:"newOrderCouponId",type:"text"}}),r("a",{staticClass:"myBtn myBtn--secondary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.get_newOrder_coupon(t)}}},[e._v("使用")]),""!==e.newOrder.coupon.id?r("a",{staticClass:"myBtn myBtn--secondary",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.reset_newOrder_coupon(t)}}},[e._v("取消使用優惠券")]):e._e()]),r("div",{staticClass:"checkout__coupon__lookup"},[""!==e.user.id?r("a",{staticClass:"myBtn myBtn--info",attrs:{href:"#"}},[e._v("查詢優惠券")]):e._e(),""===e.user.id?r("a",{staticClass:"myBtn myBtn--info",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.scroll_to_login(t)}}},[e._v("登入 / 加入會員查詢優惠券")]):e._e()])]),r("p",{staticClass:"checkout__jcfe"},[e._v("金額小計: NT$"+e._s(e.newOrder.cart.sum))]),r("p",{staticClass:"checkout__jcfe"},[e._v("折扣碼 ID: "),""===e.newOrder.coupon.id?r("span",[e._v("無")]):e._e(),""!==e.newOrder.coupon.id?r("span",[e._v(e._s(e.newOrder.coupon.id))]):e._e()]),r("p",{staticClass:"checkout__jcfe"},[e._v("折扣: "+e._s(e.newOrder.coupon.discount))]),r("p",{staticClass:"checkout__jcfe"},[e._v("金額總計: "+e._s(e.newOrder.sum))])]),r("div",{staticClass:"checkout__func"},[r("a",{staticClass:"myBtn myBtn--primary",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.orderInfoCollapse=!0}}},[e._v("下一步")])])])],1):e._e()]),r("transition",{attrs:{name:"fade"}},[e.cartContentConfirmed?r("div",{staticClass:"checkout__block"},[r("p",{staticClass:"checkout__title checkout__title--collapse",class:e.orderInfoCollapse?null:"collapsed",on:{click:function(t){t.preventDefault(),e.orderInfoCollapse=!e.orderInfoCollapse}}},[r("span",[e._v(" 訂購人資訊 ")])]),r("b-collapse",{model:{value:e.orderInfoCollapse,callback:function(t){e.orderInfoCollapse=t},expression:"orderInfoCollapse"}},[r("div",{staticClass:"checkout__body"},[r("form",{staticClass:"checkout__form",on:{submit:function(t){return t.preventDefault(),e.emit_order(t)}}},[r("div",{staticClass:"checkout__form__block"},[r("p",{staticClass:"checkout__form__title"},[e._v("購買人")]),r("div",{staticClass:"checkout__form__body"},[r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("姓名")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.buyer.name,expression:"newOrder.buyer.name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:e.newOrder.buyer.name},on:{input:function(t){t.target.composing||e.$set(e.newOrder.buyer,"name",t.target.value)}}})]),r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("聯絡電話")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.buyer.tel,expression:"newOrder.buyer.tel"}],staticClass:"form-control",attrs:{type:"tel",required:""},domProps:{value:e.newOrder.buyer.tel},on:{input:function(t){t.target.composing||e.$set(e.newOrder.buyer,"tel",t.target.value)}}})]),r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.buyer.email,expression:"newOrder.buyer.email"}],staticClass:"form-control",attrs:{type:"email",required:""},domProps:{value:e.newOrder.buyer.email},on:{input:function(t){t.target.composing||e.$set(e.newOrder.buyer,"email",t.target.value)}}})])])]),r("div",{staticClass:"checkout__form__block"},[r("p",{staticClass:"checkout__form__title"},[e._v("發票資料")]),r("div",{staticClass:"checkout__form__body"},[r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("發票類型")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.invoice.type,expression:"newOrder.invoice.type"}],staticClass:"form-control",attrs:{required:""},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newOrder.invoice,"type",t.target.multiple?r:r[0])},function(t){return t.preventDefault(),e.get_newOrder_invoice(t.target.value)}]}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇發票類型")]),r("option",{attrs:{value:"person"}},[e._v("個人電子發票")]),r("option",{attrs:{value:"donation"}},[e._v("捐贈電子發票")]),r("option",{attrs:{value:"company"}},[e._v("公司報帳電子發票")])])]),"person"===e.newOrder.invoice.type?r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("載具類別")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.invoice.personCarrier,expression:"newOrder.invoice.personCarrier"}],staticClass:"form-control",on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newOrder.invoice,"personCarrier",t.target.multiple?r:r[0])},function(t){return t.preventDefault(),e.get_newOrder_invoice_personCarrier(t.target.value)}]}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇載具類別")]),r("option",{attrs:{value:"no"}},[e._v("不使用載具")]),r("option",{attrs:{value:"mobile"}},[e._v("手機條碼")]),r("option",{attrs:{value:"nature"}},[e._v("自然人憑證")])])]):e._e(),"person"===e.newOrder.invoice.type?r("div",["no"===e.newOrder.invoice.personCarrier?r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm"},[r("address-input",{attrs:{title:"中獎發票寄送地址"},on:{emit_address:e.get_personCarrierAddress}})],1)]):e._e()]):e._e(),"person"===e.newOrder.invoice.type?r("div",["mobile"===e.newOrder.invoice.personCarrier?r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("手機載具號碼")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.invoice.personCarrierMobile,expression:"newOrder.invoice.personCarrierMobile"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.newOrder.invoice.personCarrierMobile},on:{input:function(t){t.target.composing||e.$set(e.newOrder.invoice,"personCarrierMobile",t.target.value)}}})]):e._e()]):e._e(),"person"===e.newOrder.invoice.type?r("div",["nature"===e.newOrder.invoice.personCarrier?r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("自然人憑證號碼")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.invoice.personCarrierNature,expression:"newOrder.invoice.personCarrierNature"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.newOrder.invoice.personCarrierNature},on:{input:function(t){t.target.composing||e.$set(e.newOrder.invoice,"personCarrierNature",t.target.value)}}})]):e._e()]):e._e(),"donation"===e.newOrder.invoice.type?r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("捐贈單位")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.invoice.donationTarget,expression:"newOrder.invoice.donationTarget"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newOrder.invoice,"donationTarget",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇捐贈單位")]),r("option",{attrs:{value:"donationCompany1"}},[e._v("捐贈單位1")]),r("option",{attrs:{value:"donationCompany2"}},[e._v("捐贈單位2")]),r("option",{attrs:{value:"donationCompany3"}},[e._v("捐贈單位3")])])]):e._e(),"company"===e.newOrder.invoice.type?r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("買受人")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.invoice.companyTitle,expression:"newOrder.invoice.companyTitle"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.newOrder.invoice.companyTitle},on:{input:function(t){t.target.composing||e.$set(e.newOrder.invoice,"companyTitle",t.target.value)}}})]):e._e(),"company"===e.newOrder.invoice.type?r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("統一編號")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.invoice.companyId,expression:"newOrder.invoice.companyId"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.newOrder.invoice.companyId},on:{input:function(t){t.target.composing||e.$set(e.newOrder.invoice,"companyId",t.target.value)}}})]):e._e()])]),r("div",{staticClass:"checkout__form__block"},[r("p",{staticClass:"checkout__form__title"},[e._v("收件人資料")]),r("div",{staticClass:"checkout__form__body"},[r("div",{staticClass:"myForm"},[r("label",{staticClass:"myForm__checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.recipient.ifGetFromStore,expression:"newOrder.recipient.ifGetFromStore"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newOrder.recipient.ifGetFromStore)?e._i(e.newOrder.recipient.ifGetFromStore,null)>-1:e.newOrder.recipient.ifGetFromStore},on:{change:[function(t){var r=e.newOrder.recipient.ifGetFromStore,i=t.target,n=!!i.checked;if(Array.isArray(r)){var a=null,s=e._i(r,a);i.checked?s<0&&e.$set(e.newOrder.recipient,"ifGetFromStore",r.concat([a])):s>-1&&e.$set(e.newOrder.recipient,"ifGetFromStore",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(e.newOrder.recipient,"ifGetFromStore",n)},function(t){return e.toggle_ifGetFromStore(t.target.checked)}]}}),r("span",{staticClass:"myForm__checkbox__span"},[e._v(" 門市自行取貨 ")])]),r("span",[e._v("電話: (02) 1234-5678")]),r("span",[e._v("地址: 100臺北市中正區重慶南路一段122號")])]),e.newOrder.recipient.ifGetFromStore?e._e():r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("姓名")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.recipient.info.name,expression:"newOrder.recipient.info.name"}],staticClass:"form-control",attrs:{type:"tel",required:""},domProps:{value:e.newOrder.recipient.info.name},on:{input:function(t){t.target.composing||e.$set(e.newOrder.recipient.info,"name",t.target.value)}}})]),e.newOrder.recipient.ifGetFromStore?e._e():r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("聯絡電話")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.recipient.info.tel,expression:"newOrder.recipient.info.tel"}],staticClass:"form-control",attrs:{type:"tel",required:""},domProps:{value:e.newOrder.recipient.info.tel},on:{input:function(t){t.target.composing||e.$set(e.newOrder.recipient.info,"tel",t.target.value)}}})]),e.newOrder.recipient.ifGetFromStore?e._e():r("div",{staticClass:"myForm"},[r("address-input",{attrs:{title:"地址"},on:{select_county:e.get_weatherForcast,emit_address:e.get_recipientAddress}})],1),e.newOrder.recipient.ifGetFromStore?e._e():r("div",{staticClass:"myForm"},[r("label",{staticClass:"myForm__checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.recipient.info.ifRepresentative,expression:"newOrder.recipient.info.ifRepresentative"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newOrder.recipient.info.ifRepresentative)?e._i(e.newOrder.recipient.info.ifRepresentative,null)>-1:e.newOrder.recipient.info.ifRepresentative},on:{change:[function(t){var r=e.newOrder.recipient.info.ifRepresentative,i=t.target,n=!!i.checked;if(Array.isArray(r)){var a=null,s=e._i(r,a);i.checked?s<0&&e.$set(e.newOrder.recipient.info,"ifRepresentative",r.concat([a])):s>-1&&e.$set(e.newOrder.recipient.info,"ifRepresentative",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(e.newOrder.recipient.info,"ifRepresentative",n)},function(t){return e.toggle_ifRepresentative(t.target.checked)}]}}),r("span",{staticClass:"myForm__checkbox__span"},[e._v(" 公司 / 大樓代收 ")])])]),e.newOrder.recipient.ifGetFromStore?e._e():r("div",[e.newOrder.recipient.info.ifRepresentative?r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("收花人公司 / 大樓名稱")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.recipient.info.representativeTitle,expression:"newOrder.recipient.info.representativeTitle"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.newOrder.recipient.info.representativeTitle},on:{input:function(t){t.target.composing||e.$set(e.newOrder.recipient.info,"representativeTitle",t.target.value)}}})]):e._e()]),e.newOrder.recipient.ifGetFromStore?e._e():r("div",{staticClass:"myForm"},[r("label",{staticClass:"myForm__checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.recipient.info.ifAnonymous,expression:"newOrder.recipient.info.ifAnonymous"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newOrder.recipient.info.ifAnonymous)?e._i(e.newOrder.recipient.info.ifAnonymous,null)>-1:e.newOrder.recipient.info.ifAnonymous},on:{change:function(t){var r=e.newOrder.recipient.info.ifAnonymous,i=t.target,n=!!i.checked;if(Array.isArray(r)){var a=null,s=e._i(r,a);i.checked?s<0&&e.$set(e.newOrder.recipient.info,"ifAnonymous",r.concat([a])):s>-1&&e.$set(e.newOrder.recipient.info,"ifAnonymous",r.slice(0,s).concat(r.slice(s+1)))}else e.$set(e.newOrder.recipient.info,"ifAnonymous",n)}}}),r("span",{staticClass:"myForm__checkbox__span"},[e._v(" 匿名配送 ")])])]),r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("天氣預報 ( 從本日算起 7 日 )")]),e.ifForcastLoading?r("div",{staticClass:"spinner-border",attrs:{role:"status"}},[r("span",{staticClass:"sr-only"},[e._v("Loading...")])]):e._e(),e.ifObjHasKey?r("div",[r("table",{staticClass:"table bg-white"},[r("thead",[r("tr",[r("th",{attrs:{scope:"col",colspan:"100"}},[e._v(" "+e._s(e.weatherForcast.locationName)+" ")])])]),r("tbody",[r("tr",e._l(e.weatherForcast.weatherElement[0].time,(function(t,i){return r("th",{key:i},[e._v(" "+e._s(e.convertTimeStr(t.startTime))+" ")])})),0),r("tr",e._l(e.weatherForcast.weatherElement[0].time,(function(t,i){return r("td",{key:i},[e._v(" "+e._s(t.elementValue[0].value)+" ")])})),0)])])]):e._e()]),r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("預定到貨 / 取貨日期")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.recipient.esdDate,expression:"newOrder.recipient.esdDate"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:e.newOrder.recipient.esdDate},on:{input:function(t){t.target.composing||e.$set(e.newOrder.recipient,"esdDate",t.target.value)}}})]),r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("希望到貨 / 取貨時段")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.recipient.esdTime,expression:"newOrder.recipient.esdTime"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newOrder.recipient,"esdTime",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[e._v("不指定")]),r("option",{attrs:{value:"morning"}},[e._v("上午( 08:00 ~ 13:00 )")]),r("option",{attrs:{value:"afternoon"}},[e._v("下午( 14:00 ~ 18:00 )")])])]),r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("卡片內容")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.recipient.cardContent,expression:"newOrder.recipient.cardContent"}],staticClass:"form-control",attrs:{placeholder:"若此欄位空白，則不附卡片( 請勿使用手機表情符號 )"},domProps:{value:e.newOrder.recipient.cardContent},on:{input:function(t){t.target.composing||e.$set(e.newOrder.recipient,"cardContent",t.target.value)}}})]),r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v("備註")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newOrder.recipient.remark,expression:"newOrder.recipient.remark"}],staticClass:"form-control",attrs:{placeholder:"商品 / 配送 / 其他特殊需求"},domProps:{value:e.newOrder.recipient.remark},on:{input:function(t){t.target.composing||e.$set(e.newOrder.recipient,"remark",t.target.value)}}})])])]),r("div",{staticClass:"checkout__form__block checkout__form__block--submit"},[r("button",{staticClass:"myBtn myBtn--primary",attrs:{type:"submit"}},[e._v("建立訂單，前往付款")])])])])])],1):e._e()])],1)])},n=[],a=(r("99af"),r("4de4"),r("7db0"),r("caad"),r("b0c0"),r("b64b"),r("2532"),r("1157")),s=r.n(a),o=r("3a0a"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addressInput"},[r("div",{staticClass:"myForm"},[r("div",{staticClass:"myForm__title"},[e._v(e._s(this.title))]),r("div",{staticClass:"myForm__inputRow"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.address.county,expression:"address.county"}],staticClass:"form-control",attrs:{required:""},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.address,"county",t.target.multiple?r:r[0])},function(t){e.get_districts(),e.emit_county(t.target.value)}]}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇縣市")]),e._l(e.area_data.counties,(function(t,i){return r("option",{key:i,domProps:{value:t}},[e._v(e._s(t))])}))],2),r("select",{directives:[{name:"model",rawName:"v-model",value:e.address.district,expression:"address.district"}],staticClass:"form-control",attrs:{required:""},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.address,"district",t.target.multiple?r:r[0])},e.get_zipCode]}},[r("option",{attrs:{value:"",disabled:""}},[e._v("請選擇區域")]),e._l(e.districtsArr,(function(t,i){return r("option",{key:i,domProps:{value:t}},[e._v(e._s(t))])}))],2),r("input",{directives:[{name:"model",rawName:"v-model",value:e.address.zipCode,expression:"address.zipCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"郵遞區號",required:""},domProps:{value:e.address.zipCode},on:{input:function(t){t.target.composing||e.$set(e.address,"zipCode",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.address.detail,expression:"address.detail"}],staticClass:"form-control myForm__inputRow__fullWidth",attrs:{required:"",type:"text",placeholder:"詳細地址"},domProps:{value:e.address.detail},on:{change:e.submit_address,input:function(t){t.target.composing||e.$set(e.address,"detail",t.target.value)}}})])])])},l=[],d=(r("c740"),{props:["title","target"],computed:{area_data:function(){return{counties:["臺北市","基隆市","新北市","宜蘭縣","桃園市","新竹市","新竹縣","苗栗縣","臺中市","彰化縣","南投縣","嘉義市","嘉義縣","雲林縣","臺南市","高雄市","澎湖縣","金門縣","屏東縣","臺東縣","花蓮縣","連江縣"],districts:[[["中正區","大同區","中山區","松山區","大安區","萬華區","信義區","士林區","北投區","內湖區","南港區","文山區"],["100","103","104","105","106","108","110","111","112","114","115","116"]],[["仁愛區","信義區","中正區","中山區","安樂區","暖暖區","七堵區"],["200","201","202","203","204","205","206"]],[["萬里區","金山區","板橋區","汐止區","深坑區","石碇區","瑞芳區","平溪區","雙溪區","貢寮區","新店區","坪林區","烏來區","永和區","中和區","土城區","三峽區","樹林區","鶯歌區","三重區","新莊區","泰山區","林口區","蘆洲區","五股區","八里區","淡水區","三芝區","石門區"],["207","208","220","221","222","223","224","226","227","228","231","232","233","234","235","236","237","238","239","241","242","243","244","247","248","249","251","252","253"]],[["宜蘭市","頭城鎮","礁溪鄉","壯圍鄉","員山鄉","羅東鎮","三星鄉","大同鄉","五結鄉","冬山鄉","蘇澳鎮","南澳鄉","釣魚臺列嶼"],["260","261","262","263","264","265","266","267","268","269","270","272","290"]],[["中壢區","平鎮區","龍潭區","楊梅區","新屋區","觀音區","桃園區","龜山區","八德區","大溪區","復興區","大園區","蘆竹區"],["320","324","325","326","327","328","330","333","334","335","336","337","338"]],[["東區","北區","香山區"],["300","300","300"]],[["竹北市","湖口鄉","新豐鄉","新埔鎮","關西鎮","芎林鄉","寶山鄉","竹東鎮","五峰鄉","橫山鄉","尖石鄉","北埔鄉","峨眉鄉"],["302","303","304","305","306","307","308","310","311","312","313","314","315"]],[["竹南鎮","頭份市","三灣鄉","南庄鄉","獅潭鄉","後龍鎮","通霄鎮","苑裡鎮","苗栗市","造橋鄉","頭屋鄉","公館鄉","大湖鄉","泰安鄉","銅鑼鄉","三義鄉","西湖鄉","卓蘭鎮"],["350","351","352","353","354","356","357","358","360","361","362","363","364","365","366","367","368","369"]],[["中區","東區","南區","西區","北區","北屯區","西屯區","南屯區","太平區","大里區","霧峰區","烏日區","豐原區","后里區","石岡區","東勢區","和平區","新社區","潭子區","大雅區","神岡區","大肚區","沙鹿區","龍井區","梧棲區","清水區","大甲區","外埔區","大安區"],["400","401","402","403","404","406","407","408","411","412","413","414","420","421","422","423","424","426","427","428","429","432","433","434","435","436","437","438","439"]],[["彰化市","芬園鄉","花壇鄉","秀水鄉","鹿港鎮","福興鄉","線西鄉","和美鎮","伸港鄉","員林市","社頭鄉","永靖鄉","埔心鄉","溪湖鎮","大村鄉","埔鹽鄉","田中鎮","北斗鎮","田尾鄉","埤頭鄉","溪州鄉","竹塘鄉","二林鎮","大城鄉","芳苑鄉","二水鄉"],["500","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","520","521","522","523","524","525","526","527","528","530"]],[["南投市","中寮鄉","草屯鎮","國姓鄉","埔里鎮","仁愛鄉","名間鄉","集集鎮","水里鄉","魚池鄉","信義鄉","竹山鎮","鹿谷鄉"],["540","541","542","544","545","546","551","552","553","555","556","557","558"]],[["東區","西區"],["600","600"]],[["番路鄉","梅山鄉","竹崎鄉","阿里山","中埔鄉","大埔鄉","水上鄉","鹿草鄉","太保市","朴子市","東石鄉","六腳鄉","新港鄉","民雄鄉","大林鎮","溪口鄉","義竹鄉","布袋鎮"],["602","603","604","605","606","607","608","611","612","613","614","615","616","621","622","623","624","625"]],[["斗南鎮","大埤鄉","虎尾鎮","土庫鎮","褒忠鄉","東勢鄉","臺西鄉","崙背鄉","麥寮鄉","斗六市","林內鄉","古坑鄉","莿桐鄉","西螺鎮","二崙鄉","北港鎮","水林鄉","口湖鄉","四湖鄉","元長鄉"],["630","631","632","633","634","635","636","637","638","640","643","646","647","648","649","651","652","653","654","655"]],[["中西區","東區","南區","北區","安平區","安南區","永康區","歸仁區","新化區","左鎮區","玉井區","楠西區","南化區","仁德區","關廟區","龍崎區","官田區","麻豆區","佳里區","西港區","七股區","將軍區","學甲區","北門區","新營區","後壁區","白河區","東山區","六甲區","下營區","柳營區","鹽水區","善化區","大內區","山上區","新市區","安定區"],["700","701","702","704","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","730","731","732","733","734","735","736","737","741","742","743","744","745"]],[["新興區","前金區","苓雅區","鹽埕區","鼓山區","旗津區","前鎮區","三民區","楠梓區","小港區","左營區","仁武區","大社區","東沙群島","南沙群島","岡山區","路竹區","阿蓮區","田寮區","燕巢區","橋頭區","梓官區","彌陀區","永安區","湖內區","鳳山區","大寮區","林園區","鳥松區","大樹區","旗山區","美濃區","六龜區","內門區","杉林區","甲仙區","桃源區","那瑪夏區","茂林區","茄萣區"],["800","801","802","803","804","805","806","807","811","812","813","814","815","817","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","840","842","843","844","845","846","847","848","849","851","852"]],[["馬公市","西嶼鄉","望安鄉","七美鄉","白沙鄉","湖西鄉"],["880","881","882","883","884","885"]],[["金沙鎮","金湖鎮","金寧鄉","金城鎮","烈嶼鄉","烏坵鄉"],["890","891","892","893","894","896"]],[["屏東市","三地門鄉","霧臺鄉","瑪家鄉","九如鄉","里港鄉","高樹鄉","鹽埔鄉","長治鄉","麟洛鄉","竹田鄉","內埔鄉","萬丹鄉","潮州鎮","泰武鄉","來義鄉","萬巒鄉","崁頂鄉","新埤鄉","南州鄉","林邊鄉","東港鎮","琉球鄉","佳冬鄉","新園鄉","枋寮鄉","枋山鄉","春日鄉","獅子鄉","車城鄉","牡丹鄉","恆春鎮","滿州鄉"],["900","901","902","903","904","905","906","907","908","909","911","912","913","920","921","922","923","924","925","926","927","928","929","931","932","940","941","942","943","944","945","946","947"]],[["臺東市","綠島鄉","蘭嶼鄉","延平鄉","卑南鄉","鹿野鄉","關山鎮","海端鄉","池上鄉","東河鄉","成功鎮","長濱鄉","太麻里","金峰鄉","大武鄉","達仁鄉"],["950","951","952","953","954","955","956","957","958","959","961","962","963","964","965","966"]],[["花蓮市","新城鄉","秀林鄉","吉安鄉","壽豐鄉","鳳林鎮","光復鄉","豐濱鄉","瑞穗鄉","萬榮鄉","玉里鎮","卓溪鄉","富里鄉"],["970","971","972","973","974","975","976","977","978","979","981","982","983"]],[["南竿鄉","北竿鄉","莒光鄉","東引鄉"],["209","210","211","212"]]]}}},data:function(){return{districtsArr:[],address:{county:"",district:"",zipCode:"",detail:""}}},methods:{get_districts:function(){var e=this.address.county,t=this.area_data.counties.findIndex((function(t){return t===e}));this.districtsArr=this.area_data.districts[t][0]},get_zipCode:function(){var e=this.address.county,t=this.area_data.counties.findIndex((function(t){return t===e})),r=this.address.district,i=this.area_data.districts[t][0].findIndex((function(e){return e===r}));this.address.zipCode=this.area_data.districts[t][1][i]},submit_address:function(){var e=this,t=0;for(var r in this.address)""!==this.address[r]&&(t+=1);var i=Object.keys(this.address).length,n=function(){var t=e.address.county,r=e.address.district,i=e.address.zipCode,n=e.address.detail;return"".concat(i," ").concat(t).concat(r).concat(n)};t===i&&this.$emit("emit_address",n())},emit_county:function(e){this.$emit("select_county",e)}}}),u=d,m=r("2877"),p=Object(m["a"])(u,c,l,!1,null,null,null),v=p.exports,_={components:{CartContent:o["a"],AddressInput:v},computed:{cart:function(){var e;return this.$bus.$on("get_cart",(function(t){e=t})),this.$bus.$emit("call_cart"),e},user:function(){var e;return this.$bus.$on("son_get_data",(function(t){e=t.member})),this.$bus.$emit("son_call_data"),e},coupons:function(){var e;return this.$bus.$on("son_get_data",(function(t){e=t.coupons})),this.$bus.$emit("son_call_data"),e},ifObjHasKey:function(){var e,t=Object.keys(this.weatherForcast).length;return e=0!==t,e}},data:function(){return{newOrder:{},weatherForcast:{},ifForcastLoading:!1,cartContentConfirmed:!1,loginCollapse:!1,cartConfirmingCollapse:!0,cartConfirmedCollapse:!0,sumCollapse:!0,orderInfoCollapse:!1}},watch:{"user.id":function(){this.create_newOrder()}},methods:{go_page:function(e){this.$router.push(e)},scroll_to_login:function(){var e=s()("#checkout__login").offset().top;this.loginCollapse=!0,s()("html").animate({scrollTop:e-150})},create_newOrder:function(){var e=(new Date).getTime(),t="PO".concat(e);this.newOrder={sum:0,createTime:e,id:t,memberId:this.user.id,cart:{},coupon:{},buyer:{name:this.user.name,tel:this.user.tel,email:this.user.email},invoice:{type:""},recipient:{ifGetFromStore:!1,info:{name:"",tel:"",address:"",ifRepresentative:!1,representativeTitle:""},ifAnonymous:!1,esdDate:"",esdTime:"",cardContent:"",remark:""},payment:{ifPaid:!1}}},get_newOrder_cart:function(){var e=JSON.parse(JSON.stringify(this.cart));this.newOrder.cart=e,this.reset_newOrder_coupon(),this.sum_newOrder(),this.cartConfirmingCollapse=!1,this.cartContentConfirmed=!0},reset_newOrder_cart:function(){this.create_newOrder(),this.cartContentConfirmed=!1,this.cartConfirmingCollapse=!0},get_newOrder_coupon:function(){var e=this,t=document.getElementById("newOrderCouponId"),r=t.value,i=r,n=this.coupons.find((function(e){return e.id===i})),a=function(){var e;return e=void 0===n,e},s=function(){var t;return t=!n.availableLogic(e.newOrder.cart),t};a()?this.$bus.$emit("show_toast","warning","無此優惠券"):s()?this.$bus.$emit("show_toast","warning","優惠券條件不符"):(this.newOrder.coupon=n,this.newOrder.coupon.discount=this.newOrder.coupon.discountLogic(this.newOrder.cart),this.$bus.$emit("show_toast","success","優惠券使用成功"),t.value=""),this.sum_newOrder()},reset_newOrder_coupon:function(){var e={id:"",discount:0};this.newOrder.coupon=e},sum_newOrder:function(){var e=this.newOrder.cart.sum,t=this.newOrder.coupon.discount,r=e+t;this.newOrder.sum=r},get_newOrder_invoice:function(e){var t={type:e};switch(e){case"person":t.personCarrier="";break;case"donation":t.donationTarget="";break;case"company":t.companyTitle="",t.companyId="";break;default:break}this.$set(this.newOrder,"invoice",t)},get_newOrder_invoice_personCarrier:function(e){var t={type:"person",personCarrier:e};switch(e){case"no":t.personCarrierAddress="";break;case"mobile":t.personCarrierMobile="";break;case"nature":t.personCarrierNature="";break;default:break}this.$set(this.newOrder,"invoice",t)},get_personCarrierAddress:function(e){this.newOrder.invoice.personCarrierAddress=e},toggle_ifGetFromStore:function(e){if(e){var t={name:"",tel:"",address:"",ifRepresentative:!1,ifAnonymous:!1};this.$set(this.newOrder.recipient,"info",t),this.get_weatherForcast("臺北市")}else this.newOrder.recipient.info={},this.weatherForcast={}},toggle_ifRepresentative:function(e){e?this.$set(this.newOrder.recipient.info,"representativeTitle",""):delete this.newOrder.recipient.info.representativeTitle},get_recipientAddress:function(e){this.newOrder.recipient.info.address=e},get_weatherForcast:function(e){var t=this;this.ifForcastLoading=!0;var r="https://opendata.cwb.gov.tw/api/v1/rest/datastore/F-D0047-091?Authorization=CWB-CF9F5E83-FCB0-4F39-B81C-9938662E27BF&format=JSON&elementName=Wx",i=new XMLHttpRequest;i.open("GET",r,!0),i.onload=function(){if(200===i.status){var r=JSON.parse(i.responseText),n=r.records.locations[0].location,a=n.find((function(t){return t.locationName===e})),s=a.weatherElement[0].time,o=s.filter((function(e,t){return 0===t||e.startTime.includes("06:00:00")}));a.weatherElement[0].time=o,t.weatherForcast=a,t.ifForcastLoading=!1}},i.send()},convertTimeStr:function(e){var t="",r=new Date(e),i=r.getMonth()+1,n=r.getDate();return t="".concat(i,"/").concat(n),t},emit_order:function(){this.newOrder.sending={ifSent:!1},this.$bus.$emit("add_new_order",this.newOrder),this.$bus.$emit("show_toast","success","訂單建立完成，您的訂單編號為 ".concat(this.newOrder.id)),this.orderInfoCollapse=!1,this.go_page("/front/checkout_payment/".concat(this.newOrder.id))}},created:function(){this.create_newOrder(),this.$bus.$emit("toggleCart",!1)}},f=_,C=Object(m["a"])(f,i,n,!1,null,null,null);t["default"]=C.exports},"3a0a":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cartContent"},[i("div",{staticClass:"cartContent--rwdM"},[i("ul",{staticClass:"list"},e._l(e.connectObj.products,(function(t,n){return i("li",{key:n,staticClass:"item"},[i("div",{staticClass:"item__main"},[e.editable?i("div",{staticClass:"item__delete"},[i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.edit_quantity(0,n)}}},[i("img",{attrs:{src:r("2419"),alt:""}})])]):e._e(),i("div",{staticClass:"item__img"},[i("img",{attrs:{src:t.img,alt:""}})]),i("div",{staticClass:"item__info"},[i("div",{staticClass:"item__header"},[i("p",{staticClass:"item__title"},[e._v(e._s(t.title))]),i("p",{staticClass:"item__id"},[e._v(e._s(t.id))]),i("p",{staticClass:"item__price"},[e._v("NT$"+e._s(t.price))])]),i("div",{staticClass:"item__quantity"},[i("span",[e._v("數量: ")]),e.editable?i("b-form-spinbutton",{attrs:{min:"0",max:"100"},on:{change:function(t){return e.edit_quantity(t,n)}},model:{value:t.quantity,callback:function(r){e.$set(t,"quantity",r)},expression:"item.quantity"}}):e._e(),e.editable?e._e():i("span",{staticClass:"number"},[e._v(e._s(t.quantity))])],1)])]),i("p",{staticClass:"item__delivery"},[e._v("黑貓宅急便、專人配送、門市取貨")])])})),0)]),i("div",{staticClass:"cartContent--rwdL"},[i("table",{staticClass:"table"},[e._m(0),i("tbody",e._l(e.connectObj.products,(function(t,n){return i("tr",{key:n},[i("td",[i("div",{staticClass:"table__info"},[e.editable?i("div",{staticClass:"table__delete"},[i("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.edit_quantity(0,n)}}},[i("img",{attrs:{src:r("2419"),alt:""}})])]):e._e(),i("div",{staticClass:"table__img"},[i("img",{attrs:{src:t.img,alt:""}})]),i("div",{staticClass:"table__main"},[i("p",{staticClass:"table__title"},[e._v(e._s(t.title))]),i("p",{staticClass:"table__delivery"},[e._v("黑貓宅急便、專人配送、門市取貨")])])])]),i("td",[i("div",{staticClass:"table__div"},[e._v(" "+e._s(t.id)+" ")])]),i("td",[i("div",{staticClass:"table__div"},[e._v(" NT$"+e._s(t.price)+" ")])]),i("td",[i("div",{staticClass:"table__div"},[e.editable?i("div",{staticClass:"table--editable"},[i("b-form-spinbutton",{attrs:{min:"0",max:"100"},on:{change:function(t){return e.edit_quantity(t,n)}},model:{value:t.quantity,callback:function(r){e.$set(t,"quantity",r)},expression:"item.quantity"}})],1):e._e(),e.editable?e._e():i("div",{staticClass:"table--confirm"},[e._v(" "+e._s(t.quantity)+" ")])])]),i("td",[i("div",{staticClass:"table__div"},[e._v(" NT$"+e._s(t.quantity*t.price)+" ")])])])})),0)])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("產品名稱")]),r("th",[e._v("編號")]),r("th",[e._v("單價")]),r("th",[e._v("數量")]),r("th",[e._v("小計")])])])}],a=(r("a434"),{props:["editable","connectObj"],computed:{cart:function(){var e;return this.$bus.$on("get_cart",(function(t){e=t})),this.$bus.$emit("call_cart"),e}},methods:{edit_quantity:function(e,t){0===e&&this.cart.products.splice(t,1),this.$bus.$emit("editCart")}}}),s=a,o=r("2877"),c=Object(o["a"])(s,i,n,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-2fc3c922.71a679c6.js.map