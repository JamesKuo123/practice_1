(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-422015bc"],{"578a":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"login__block"},[a("div",{staticClass:"login__header"},[e._v(" 會員登入 ")]),a("div",{staticClass:"login__body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.loginVerify(t)}}},[a("div",{staticClass:"myForm"},[a("div",{staticClass:"myForm__title"},[e._v(" Email ")]),a("label",{attrs:{for:"account"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.email,expression:"loginForm.email"}],attrs:{type:"email"},domProps:{value:e.loginForm.email},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"email",t.target.value)}}})])]),a("div",{staticClass:"myForm"},[a("div",{staticClass:"myForm__title"},[e._v(" 密碼 ")]),a("label",{attrs:{for:"password"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.loginForm.password,expression:"loginForm.password"}],attrs:{type:"password"},domProps:{value:e.loginForm.password},on:{input:function(t){t.target.composing||e.$set(e.loginForm,"password",t.target.value)}}})])]),e._m(0),e._m(1)])]),a("div",{staticClass:"login__header"},[e._v(" FB登入 ")]),a("div",{staticClass:"login__body"},[a("a",{staticClass:"myBtn myBtn--primary",attrs:{href:"#"},on:{click:function(t){return e.fb_login(!0)}}},[e._v(" FB登入 ")])])]),a("div",{staticClass:"login__block"},[a("div",{staticClass:"login__header"},[e._v(" 快速註冊會員 ")]),a("div",{staticClass:"login__body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[a("div",{staticClass:"myForm"},[a("div",{staticClass:"myForm__title"},[e._v(" 姓名 ")]),a("label",{attrs:{for:"name"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMember.name,expression:"newMember.name"}],attrs:{type:"text"},domProps:{value:e.newMember.name},on:{input:function(t){t.target.composing||e.$set(e.newMember,"name",t.target.value)}}})])]),a("div",{staticClass:"myForm"},[a("div",{staticClass:"myForm__title"},[e._v(" 性別 ")]),a("label",{attrs:{for:"gender"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMember.gender,expression:"newMember.gender"}],attrs:{type:"radio",name:"gender",value:"male"},domProps:{checked:e._q(e.newMember.gender,"male")},on:{change:function(t){return e.$set(e.newMember,"gender","male")}}}),a("span",[e._v("男生")])]),a("label",{attrs:{for:"gender"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMember.gender,expression:"newMember.gender"}],attrs:{type:"radio",name:"gender",value:"female"},domProps:{checked:e._q(e.newMember.gender,"female")},on:{change:function(t){return e.$set(e.newMember,"gender","female")}}}),a("span",[e._v("女生")])])]),a("div",{staticClass:"myForm"},[a("div",{staticClass:"myForm__title"},[e._v(" 生日 ")]),a("label",{attrs:{for:"birthday"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMember.birthday,expression:"newMember.birthday"}],attrs:{type:"date"},domProps:{value:e.newMember.birthday},on:{input:function(t){t.target.composing||e.$set(e.newMember,"birthday",t.target.value)}}})])]),a("div",{staticClass:"myForm"},[a("div",{staticClass:"myForm__title"},[e._v(" 電話 ")]),a("label",{attrs:{for:"birthday"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMember.tel,expression:"newMember.tel"}],attrs:{type:"tel"},domProps:{value:e.newMember.tel},on:{input:function(t){t.target.composing||e.$set(e.newMember,"tel",t.target.value)}}})])]),a("div",{staticClass:"myForm"},[a("div",{staticClass:"myForm__title"},[e._v(" E-mail ")]),a("label",{attrs:{for:"birthday"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMember.email,expression:"newMember.email"}],attrs:{type:"email"},domProps:{value:e.newMember.email},on:{input:function(t){t.target.composing||e.$set(e.newMember,"email",t.target.value)}}})])]),a("div",{staticClass:"myForm"},[a("div",{staticClass:"myForm__title"},[e._v(" 密碼 ")]),a("label",{attrs:{for:"birthday"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMember.password,expression:"newMember.password"}],attrs:{type:"password"},domProps:{value:e.newMember.password},on:{input:function(t){t.target.composing||e.$set(e.newMember,"password",t.target.value)}}})])]),a("div",{staticClass:"myForm"},[a("div",{staticClass:"myForm__title"},[e._v(" 確認密碼 ")]),a("label",{attrs:{for:"birthday"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password"},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}})])]),a("div",{staticClass:"myForm"},[a("captcha",{attrs:{id:"login__register"},on:{callVerification:e.verify}})],1),e._m(2)])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myForm__remark"},[a("a",{attrs:{href:"#"}},[e._v("忘記密碼?")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myForm"},[a("button",{attrs:{type:"submit"}},[e._v("登入")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myForm"},[a("button",{attrs:{type:"submit"}},[e._v("註冊")])])}],s=(a("7db0"),a("caad"),a("d81d"),a("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"captcha"},[a("p",{staticClass:"captcha__title"},[e._v("輸入驗證碼")]),a("canvas",{staticClass:"canvas",attrs:{height:"40",width:"75",id:e.id+"__canvas"}}),a("label",{attrs:{for:"captcha"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.input_code,expression:"input_code"}],attrs:{type:"text",required:"",id:e.id},domProps:{value:e.input_code},on:{input:function(t){t.target.composing||(e.input_code=t.target.value)}}})]),a("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.emit_create_code(t)}}},[e._v("換一個")])])}),n=[],o=(a("b680"),a("1157")),l=a.n(o),m={props:["id"],data:function(){return{input_code:""}},methods:{emit_create_code:function(){this.$bus.$emit("create_new_code")}},mounted:function(){var e=this,t="",a=function(){e.input_code="";for(var a=4,i="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="",s=0;s<a;s+=1){var n=parseInt(Math.floor(Math.random()*i.length),10),o=i[n];r+=o}t=r;var l=document.querySelector("#".concat(e.id,"__canvas")),m=l.getContext("2d");m.fillStyle="white",m.fillRect(0,0,100,100),m.font="bolder 25px Roboto",m.fillStyle="black",m.fillText(r,5,30),m.strokeStyle="black",m.beginPath(),m.lineWidth="1",m.moveTo(Math.floor(70*Math.random())+5,0),m.lineTo(Math.floor(60*Math.random())+5,25),m.moveTo(Math.floor(70*Math.random())+5,10),m.lineTo(Math.floor(70*Math.random())+5,28),m.stroke(),m.strokeStyle="black",m.beginPath(),m.lineWidth="1";for(var c=0;c<100;c+=1){var d=Math.floor(78*Math.random()),u=Math.floor(28*Math.random()),v=parseFloat((2*Math.random()).toFixed(2)),p=parseFloat((2*Math.random()).toFixed(2)),_=d+v,b=u+p;m.moveTo(d,u),m.lineTo(_,b)}m.stroke()};this.$bus.$on("create_new_code",(function(){a()})),this.$bus.$emit("create_new_code"),l()("#".concat(this.id)).change((function(){var a=l()("#".concat(e.id)).val()===t;e.$emit("callVerification",a)}))}},c=m,d=a("2877"),u=Object(d["a"])(c,s,n,!1,null,null,null),v=u.exports,p={components:{captcha:v},data:function(){return{loginForm:{email:"",password:""},newMember:{id:"",name:"",gender:"",birthday:"",tel:"",email:"",password:"",favorites:[]},confirmPassword:"",captchaPass:!1}},computed:{members:function(){var e=[];return this.$bus.$on("son_get_data",(function(t){e=t.members})),this.$bus.$emit("son_call_data"),e}},methods:{createNewMember:function(){this.newMember={id:"",name:"",gender:"",birthday:"",tel:"",email:"",password:"",favorites:[]}},register:function(){var e=this.members.map((function(e){return e.email})).includes(this.newMember.email);e?this.$bus.$emit("show_toast","warning","此電子信箱已被註冊過，請登入會員或選擇其他電子信箱"):this.captchaPass?(this.newMember.id="m_".concat((new Date).yyyymmdd()),this.$bus.$emit("add_new_member",this.newMember),this.register_captcha_ok=0,this.createNewMember()):this.$bus.$emit("show_toast","warning","驗證碼錯誤"),this.$bus.$emit("create_new_code")},verify:function(e){this.captchaPass=e},loginVerify:function(){var e=this,t=this.members.find((function(t){return t.email===e.loginForm.email}));void 0===t?this.$bus.$emit("show_toast","warning","無此用戶"):t.password!==this.loginForm.password?(this.$bus.$emit("show_toast","warning","密碼錯誤"),this.loginForm.password=""):(this.$bus.$emit("log_in",t),this.$bus.$emit("createMail"))},fb_login:function(e){this.$bus.$emit("fb_login",e)}},created:function(){}},_=p,b=Object(d["a"])(_,i,r,!1,null,null,null);t["a"]=b.exports},bd13:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"loginPage"},[a("h1",[e._v("登入")]),a("div",{staticClass:"loginPage__container"},[a("login")],1)])},r=[],s=a("578a"),n={components:{login:s["a"]},computed:{user:function(){var e={};return this.$bus.$on("son_get_data",(function(t){e=t.member})),this.$bus.$emit("son_call_data"),e}},watch:{"user.id":function(){""!==this.user.id&&this.go_page("/front/onlinestore/all")}},methods:{go_page:function(e){this.$router.push(e)}},created:function(){this.$bus.$emit("toggleCart",!1)}},o=n,l=a("2877"),m=Object(l["a"])(o,i,r,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-422015bc.5ecf7239.js.map