(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-457bec86"],{"0985":function(t,i,s){"use strict";s.r(i);var c=function(){var t=this,i=t.$createElement,c=t._self._c||i;return c("div",{class:[{has_coupon:"無"!==this.this_order.coupon.coupon_id},{"member--loggedin":""!==this.user.id}],attrs:{id:"checkout1"}},[c("h1",[t._v("確認商品數量")]),c("div",{staticClass:"checkout1__container"},[c("ul",{staticClass:"checkout1__list--m"},t._l(t.cart.products,(function(i,o){return c("li",{key:o,staticClass:"checkout1__list__item"},[c("div",{staticClass:"item__main"},[c("div",{staticClass:"item__delete"},[c("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.edit_product(0,i.id)}}},[c("img",{attrs:{src:s("2419"),alt:""}})])]),c("div",{staticClass:"item__img"},[c("a",{attrs:{href:"#"}},[c("img",{attrs:{src:i.img,alt:""}})])]),c("div",{staticClass:"item__info"},[c("div",{staticClass:"item__text"},[c("a",{attrs:{href:"#"}},[c("p",{staticClass:"item__title"},[t._v(t._s(i.title))]),c("p",{staticClass:"item__id"},[t._v(t._s(i.id))]),c("p",{staticClass:"item__price"},[t._v("NT$"+t._s(i.price))])])]),c("div",{staticClass:"item__quantity"},[c("p",[t._v("數量")]),c("b-form-spinbutton",{attrs:{min:"0",max:"100"},on:{change:function(s){return t.edit_product(s,i.id)}},model:{value:i.quantity,callback:function(s){t.$set(i,"quantity",s)},expression:"item.quantity"}})],1)])]),c("p",{staticClass:"item__delivery"},[t._v(" 黑貓宅急便、專人配送、門市取貨 ")])])})),0),c("table",{staticClass:"checkout1__table--l table"},[t._m(0),c("tbody",t._l(t.cart.products,(function(i,o){return c("tr",{key:o},[c("td",[c("p",{staticClass:"item__index"},[t._v(t._s(o+1))])]),c("td",[c("div",{staticClass:"item__main"},[c("div",{staticClass:"item__delete"},[c("a",{attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.edit_product(0,i.id)}}},[c("img",{attrs:{src:s("2419"),alt:""}})])]),c("a",{staticClass:"item__link",attrs:{href:"#"}},[c("div",{staticClass:"item__img"},[c("img",{attrs:{src:i.img,alt:""}})]),c("p",{staticClass:"item__title"},[t._v(" "+t._s(i.title)+" ")])])]),c("p",{staticClass:"item__delivery"},[t._v("黑貓宅急便、專人配送、門市取貨")])]),c("td",[t._v(t._s(i.id))]),c("td",[t._v("NT$"+t._s(i.price))]),c("td",[c("div",{staticClass:"item__quantity"},[c("b-form-spinbutton",{attrs:{min:"0",max:"100"},on:{change:function(s){return t.edit_product(s,i.id)}},model:{value:i.quantity,callback:function(s){t.$set(i,"quantity",s)},expression:"item.quantity"}})],1)]),c("td",[t._v("NT$"+t._s(i.price*i.quantity))])])})),0)]),c("div",{staticClass:"checkout1__coupon"},[c("div",{staticClass:"coupon__main"},[c("span",[t._v("折扣碼")]),c("div",{staticClass:"input-group"},[c("input",{staticClass:"form-control",attrs:{type:"text",id:"coupon_id"}}),c("div",{staticClass:"input-group-append"},[c("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),t.enter_coupon(i)}}},[t._v("使用")])])])]),c("div",{staticClass:"coupon__functionBtns"},[t._m(1),t._m(2),c("div",{staticClass:"delete_coupon"},[c("a",{staticClass:"secondary",attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),t.delete_coupon(i)}}},[t._v("取消使用優惠券")])])])]),c("div",{staticClass:"checkout1__sum"},[c("p",{staticClass:"pre_sum"},[t._v("金額小計: NT$"+t._s(t.cart.sum))]),c("p",{staticClass:"coupon_id"},[t._v("優惠券碼: "+t._s(t.coupon.coupon_id))]),c("p",{staticClass:"discount"},[t._v("折扣: -NT$"+t._s(t.coupon.coupon_discount))]),c("p",{staticClass:"sum"},[t._v("總金額: NT$"+t._s(t.sum))])]),c("p",{staticClass:"checkout1__remark"},[t._v("台灣本島地區全站商品免運配送")]),c("div",{staticClass:"checkout1__functionBtns"},[c("a",{staticClass:"secondary",attrs:{href:"#"},on:{click:function(i){return t.go_page("front/online_store/all")}}},[t._v("繼續購物")]),c("a",{staticClass:"primary",attrs:{href:"#"},on:{click:t.go_next_step}},[t._v("填寫訂購資料")])])])])},o=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("品項")]),s("th",{attrs:{scope:"col"}},[t._v("商品名稱")]),s("th",{attrs:{scope:"col"}},[t._v("編號")]),s("th",{attrs:{scope:"col"}},[t._v("單價")]),s("th",{attrs:{scope:"col"}},[t._v("數量")]),s("th",{attrs:{scope:"col"}},[t._v("小計")])])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"not_member"},[s("a",{staticClass:"primary",attrs:{href:"#"}},[t._v(" 加入會員 ")]),s("a",{staticClass:"secondary",attrs:{href:"#"}},[t._v(" 登入查看優惠券 ")])])},function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"is_member"},[s("a",{staticClass:"primary",attrs:{href:"#"}},[t._v("查詢可使用優惠券")])])}],e=(s("7db0"),s("c740"),s("4160"),s("a434"),s("159b"),s("1157")),n=s.n(e),a={watch:{$route:function(){this.$bus.$emit("update_step",1)}},props:["cart","this_order","user","coupons"],data:function(){return{coupon:{coupon_id:"無",coupon_discount_method:"",coupon_discount_index:0,coupon_discount:0},sum:0}},methods:{go_page:function(t){this.$router.push("/".concat(t))},calculate_coupon_discount:function(){switch(this.coupon.coupon_discount_method){case"minus":this.coupon.coupon_discount=this.coupon.coupon_discount_index;break;case"times":this.coupon.coupon_discount=Math.round(this.cart.sum*(1-this.coupon.coupon_discount_index));break;default:this.coupon.coupon_discount=0;break}this.sum=this.cart.sum-this.coupon.coupon_discount},edit_product:function(t,i){var s=this;0===t&&this.cart.products.splice(this.cart.products.findIndex((function(t){return t.id===i})),1),this.cart.sum=0,this.cart.products.forEach((function(t){s.cart.sum+=t.price*t.quantity})),this.calculate_coupon_discount(),this.$nextTick((function(){0===s.cart.products.length?n()("#front").removeClass("cart--hasProduct"):n()("#front").addClass("cart--hasProduct")}))},enter_coupon:function(){if(""===n()("#coupon_id").val())alert("請輸入優惠券碼");else{var t=this.coupons.find((function(t){return t.coupon_id===n()("#coupon_id").val()}));void 0===t?alert("優惠券碼輸入錯誤"):(this.coupon=JSON.parse(JSON.stringify(t)),this.calculate_coupon_discount())}},delete_coupon:function(){this.coupon={coupon_id:"無",coupon_discount_method:"",coupon_discount_index:0,coupon_discount:0},this.calculate_coupon_discount()},go_next_step:function(){0===this.cart.products.length?(alert("購物車內無商品，即將跳轉至線上購物頁面"),this.go_page("front/online_store/all")):(this.this_order.id=new Date,this.this_order.user.id=this.user.id,this.this_order.cart=JSON.parse(JSON.stringify(this.cart)),this.this_order.coupon=JSON.parse(JSON.stringify(this.coupon)),this.this_order.sum=JSON.parse(JSON.stringify(this.sum)),this.go_page("front/checkout/checkout2"))}},created:function(){this.this_order.id="",this.this_order.user.id="",this.this_order.cart={is_shown:!1,sum:0,products:[{img:"",title:"",id:"",price:0,quantity:0}]},this.this_order.coupon={coupon_id:"無",coupon_discount_method:"",coupon_discount_index:0,coupon_discount:0},this.this_order.sum=0,this.calculate_coupon_discount()},mounted:function(){this.$bus.$emit("update_step",1)}},r=a,u=s("2877"),d=Object(u["a"])(r,c,o,!1,null,null,null);i["default"]=d.exports},2419:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyQjE2NkIzMDcxQTgxMUU2OTUxMUIyODIzOUYwQTdCMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyQjE2NkIzMTcxQTgxMUU2OTUxMUIyODIzOUYwQTdCMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjJCMTY2QjJFNzFBODExRTY5NTExQjI4MjM5RjBBN0IxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjJCMTY2QjJGNzFBODExRTY5NTExQjI4MjM5RjBBN0IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+M0JF6QAAAglJREFUeNrsljtLA0EQx+/OBKOksbDRJhFtIhaRpLGJQsQnqGm0ywewFCwsLBTs7C0tTSEoGBAsBBERA4JgMKKIhUrQxiAoJvHxH5iFZb0zl7vEyoEfm8zNzuzO7EuPRCKaDekAq2CS/2+BOXCTyWR+7eix4TwAzoAfHLCOAsVBD7h1G2CdnXeBa9Z1giv+1m83wBh3JN0nKIFmEAN5Hu0Q2z6wLhaNRufRvgIvMECZBoLUpclQRw1a0O6APq22cgTGabSb7HwR7PEMDMmQZqMzsnwxqi3NYBAskW9yNgBSYNnJMC1W0TFS1412WkTPa7WXvKjBHdp2MAxOwYdJOuwKpawB9IJdcE8pSoBDVpR4NbgR4YPaBAU4AWFwziNI2dwfZkIFnuLfYdQnKxxl2Tmtohk3RUZxacmPknNNWmJ+zru3BsUlHzoC+TVlDWsuimvpw9DqLEaFqSZBUNKNMEKCSEUSeJ0ECPFpmZR0G4yQJNuEnBzXPpOcvlnk2+ckQFnaOEKKJptKtq0qRXUv8n+AvwngqbDRSBolXZNi06jYWgYwTJbbM7cFSfei9C8otrIPQw5QNBltDtCz71LSxZUAa2AfR3POZFZFcWWKD/RCa+Pr88nJfYAzqZWuSXo3QR9QazDL76NHsA3e7dxscCrSQiOfkHz9KHKar7sVybBauQAL4lVH8i3AAIHRfhyq8u1aAAAAAElFTkSuQmCC"},"7db0":function(t,i,s){"use strict";var c=s("23e7"),o=s("b727").find,e=s("44d2"),n=s("ae40"),a="find",r=!0,u=n(a);a in[]&&Array(1)[a]((function(){r=!1})),c({target:"Array",proto:!0,forced:r||!u},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),e(a)},a434:function(t,i,s){"use strict";var c=s("23e7"),o=s("23cb"),e=s("a691"),n=s("50c4"),a=s("7b0b"),r=s("65f0"),u=s("8418"),d=s("1dde"),_=s("ae40"),l=d("splice"),p=_("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,f=9007199254740991,v="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!l||!p},{splice:function(t,i){var s,c,d,_,l,p,A=a(this),C=n(A.length),b=o(t,C),g=arguments.length;if(0===g?s=c=0:1===g?(s=0,c=C-b):(s=g-2,c=m(h(e(i),0),C-b)),C+s-c>f)throw TypeError(v);for(d=r(A,c),_=0;_<c;_++)l=b+_,l in A&&u(d,_,A[l]);if(d.length=c,s<c){for(_=b;_<C-c;_++)l=_+c,p=_+s,l in A?A[p]=A[l]:delete A[p];for(_=C;_>C-c+s;_--)delete A[_-1]}else if(s>c)for(_=C-c;_>b;_--)l=_+c-1,p=_+s-1,l in A?A[p]=A[l]:delete A[p];for(_=0;_<s;_++)A[_+b]=arguments[_+2];return A.length=C-c+s,d}})},c740:function(t,i,s){"use strict";var c=s("23e7"),o=s("b727").findIndex,e=s("44d2"),n=s("ae40"),a="findIndex",r=!0,u=n(a);a in[]&&Array(1)[a]((function(){r=!1})),c({target:"Array",proto:!0,forced:r||!u},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),e(a)}}]);
//# sourceMappingURL=chunk-457bec86.d8542446.js.map